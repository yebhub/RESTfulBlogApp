{"version":3,"sources":["../../../../src/processor/namespaces/LogRecordNamespace.js"],"names":["LogRecordNamespace","JSObjectNamespace","constructor","logRecord","callMethod","name","args","dump","format","ContainerNamespace","obj","getMessage","readAttribute","prepareLogRecordForReadingAttribute","prototype","call","LOG_RECORD_MESSAGE_FIELD_NAME","formatMessage","LOG_RECORD_LEVEL_NAME_FIELD_NAME","formatLevelName","getLevelName","time","module"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAMe,MAAMA,kBAAN,SAAiCC,0BAAjC,CAAmD;AAC9DC,EAAAA,WAAW,CAACC,SAAD,EAAY;AACnB,UAAMA,SAAN;AACH;;AAEDC,EAAAA,UAAU,CAACC,IAAD,EAAOC,IAAP,EAAa;AACnB,YAAQD,IAAR;AACI,WAAK,MAAL;AACI,eAAO,KAAKE,IAAL,EAAP;;AACJ,WAAK,QAAL;AACI,eAAO,KAAKC,MAAL,EAAP;;AACJ;AACI,eAAO,IAAIC,2BAAJ,EAAP;AANR;AAQH;;AAEDD,EAAAA,MAAM,GAAG;AACL,WAAO,IAAIP,0BAAJ,CAAsB,KAAKS,GAAL,CAASC,UAAT,EAAtB,CAAP;AACH;;AAEDC,EAAAA,aAAa,CAACP,IAAD,EAAO;AAChB,SAAKQ,mCAAL,CAAyCR,IAAzC;AACA,WAAOJ,2BAAkBa,SAAlB,CAA4BF,aAA5B,CAA0CG,IAA1C,CAA+C,IAA/C,EAAqDV,IAArD,CAAP;AACH;;AAEDQ,EAAAA,mCAAmC,CAACR,IAAD,EAAO;AACtC,YAAQA,IAAR;AACI,WAAKW,wCAAL;AACI,aAAKN,GAAL,CAASO,aAAT;AACA;;AACJ,WAAKC,2CAAL;AACI,aAAKR,GAAL,CAASS,eAAT;AACA;AANR;AAQH;;AAEDZ,EAAAA,IAAI,GAAG;AACH,WAAO,IAAIE,2BAAJ,CAAuB;AAC1B,aAAO,IAAIR,0BAAJ,CAAsB,KAAKS,GAAL,CAASC,UAAT,EAAtB,CADmB;AAE1B,2BAAqB,KAAKH,MAAL,EAFK;AAG1B,oBAAc,IAAIP,0BAAJ,CAAsB,KAAKS,GAAL,CAASU,YAAT,EAAtB,CAHY;AAI1B,cAAQ,IAAInB,0BAAJ,CAAsB,KAAKS,GAAL,CAASW,IAA/B,CAJkB;AAK1B,gBAAU,IAAIpB,0BAAJ,CAAsB,KAAKS,GAAL,CAASY,MAA/B,CALgB,CAM1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAjB0B,KAAvB,CAAP;AAmBH;;AAxD6D","sourcesContent":["import ContainerNamespace from \"./ContainerNamespace\";\nimport JSObjectNamespace from \"./JSObjectNamespace\";\nimport {\n    LOG_RECORD_LEVEL_NAME_FIELD_NAME,\n    LOG_RECORD_MESSAGE_FIELD_NAME,\n} from \"../../services/LogRecord\";\n\n\nexport default class LogRecordNamespace extends JSObjectNamespace {\n    constructor(logRecord) {\n        super(logRecord);\n    }\n\n    callMethod(name, args) {\n        switch (name) {\n            case \"dump\":\n                return this.dump();\n            case \"format\":\n                return this.format();\n            default:\n                return new ContainerNamespace();\n        }\n    }\n\n    format() {\n        return new JSObjectNamespace(this.obj.getMessage());\n    }\n\n    readAttribute(name) {\n        this.prepareLogRecordForReadingAttribute(name);\n        return JSObjectNamespace.prototype.readAttribute.call(this, name);\n    }\n\n    prepareLogRecordForReadingAttribute(name) {\n        switch (name) {\n            case LOG_RECORD_MESSAGE_FIELD_NAME:\n                this.obj.formatMessage();\n                break;\n            case LOG_RECORD_LEVEL_NAME_FIELD_NAME:\n                this.obj.formatLevelName();\n                break;            \n        }\n    }\n\n    dump() {\n        return new ContainerNamespace({\n            'msg': new JSObjectNamespace(this.obj.getMessage()),\n            'formatted_message': this.format(),\n            'level_name': new JSObjectNamespace(this.obj.getLevelName()),\n            'time': new JSObjectNamespace(this.obj.time),\n            'module': new JSObjectNamespace(this.obj.module),            \n            // todo: send more fields. (fields implemented in the python rook:)\n            // 'name': new JSObjectNamespace(this.obj.name),\n            // 'args': new JSObjectNamespace(this.obj.args),\n            // 'level_no': new JSObjectNamespace(this.obj.levelno),\n            // 'path_name': new JSObjectNamespace(this.obj.pathname),\n            // 'filename': new JSObjectNamespace(this.obj.filename),\n            // 'lineno': new JSObjectNamespace(this.obj.lineno),\n            // 'function': new JSObjectNamespace(this.obj.funcName),\n            // 'thread_id': new JSObjectNamespace(this.obj.thread),\n            // 'thread_name': new JSObjectNamespace(this.obj.threadName),\n            // 'process_name': new JSObjectNamespace(this.obj.processName),\n            // 'process_id': new JSObjectNamespace(this.obj.process)\n        })\n    }\n}\n"],"file":"LogRecordNamespace.js"}